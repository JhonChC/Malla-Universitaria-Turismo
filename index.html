<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Malla Curricular - Licenciatura en Turismo</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .header h1 {
            color: #2c3e50;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .header p {
            color: #7f8c8d;
            font-size: 1.1rem;
            font-weight: 400;
        }
        
        .stats-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            transition: transform 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-card h3 {
            color: #34495e;
            font-size: 2rem;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .stat-card p {
            color: #7f8c8d;
            font-weight: 500;
        }
        
        .unit-section {
            margin-bottom: 40px;
        }
        
        .unit-header {
            text-align: center;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 25px;
            color: white;
            font-size: 1.5rem;
            font-weight: 600;
        }
        
        .unit-preuniversitaria { background: linear-gradient(135deg, #1AB4E8, #4DC4ED); }
        .unit-basica { background: linear-gradient(135deg, #1ACB6C, #4DD78B); }
        .unit-profesional { background: linear-gradient(135deg, #FFD150, #FFDC78); color: #333; }
        .unit-titulacion { background: linear-gradient(135deg, #FF9292, #FFA8A8); }
        
        .semesters-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 20px;
        }
        
        .semester-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        
        .semester-card:hover {
            transform: translateY(-3px);
        }
        
        .semester-header {
            text-align: center;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        .pre { background: #008BA3; color: white; }
        .sem1 { background: #1B5E20; color: white; }
        .sem2 { background: #EF6C00; color: white; }
        .sem3 { background: #6A1B9A; color: white; }
        .sem4 { background: #AD1457; color: white; }
        .sem5 { background: #FBC02D; color: #333; }
        .sem6 { background: #C62828; color: white; }
        .sem7 { background: #1B5E20; color: white; }
        .sem8 { background: #0D47A1; color: white; }
        .sem9 { background: #424242; color: white; }
        
        .subject {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 15px;
            margin-bottom: 8px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            position: relative;
        }
        
        .subject:hover {
            transform: translateX(5px);
        }
        
        .subject.approved {
            background: #d4edda;
            border-color: #28a745;
        }
        
        .subject.blocked {
            background: #f8d7da;
            border-color: #dc3545;
            cursor: not-allowed;
            opacity: 0.7;
        }
        
        .subject.available {
            background: #e2e6ea;
            border-color: #6c757d;
        }
        
        .subject-info {
            display: flex;
            align-items: center;
            flex: 1;
        }
        
        .subject-icon {
            font-size: 1.2rem;
            margin-right: 10px;
        }
        
        .subject-name {
            font-weight: 500;
            color: #2c3e50;
            flex: 1;
        }
        
        .subject-credits {
            font-weight: 600;
            color: #27ae60;
            font-size: 0.9rem;
            min-width: 50px;
            text-align: center;
        }
        
        .modules-section {
            margin-top: 40px;
        }
        
        .modules-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
        }
        
        .module-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        
        .module-header {
            text-align: center;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            font-weight: 600;
            font-size: 1.2rem;
        }
        
        .ingles-header { background: #006064; color: white; }
        .computacion-header { background: #6A1B9A; color: white; }
        
        .tooltip {
            position: fixed;
            background: #ffffff;
            color: #333333;
            padding: 25px 30px;
            border-radius: 20px;
            font-size: 0.95rem;
            z-index: 1001;
            max-width: 400px;
            min-width: 300px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.4);
            line-height: 1.5;
            border: 1px solid #e0e0e0;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            text-align: left;
            opacity: 1;
            visibility: visible;
        }
        
        .tooltip-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 20px;
            text-align: center;
            opacity: 1;
        }
        
        .tooltip-content {
            color: #666666;
            margin-bottom: 25px;
            font-weight: 500;
            opacity: 1;
        }
        
        .tooltip-list {
            margin: 15px 0;
            padding-left: 0;
            opacity: 1;
        }
        
        .tooltip-list li {
            list-style: none;
            padding: 5px 0;
            color: #444444;
            font-weight: 500;
            opacity: 1;
        }
        
        .tooltip-list li:before {
            content: "‚Ä¢ ";
            color: #3498db;
            font-weight: bold;
            margin-right: 8px;
        }
        
        .tooltip-button {
            background: #007AFF;
            color: #ffffff;
            border: none;
            padding: 12px 30px;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            display: block;
            margin: 0 auto;
            transition: background 0.3s ease;
            opacity: 1;
        }
        
        .tooltip-button:hover {
            background: #0056CC;
        }
        
        .tooltip-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0,0,0,0.6);
            z-index: 1000;
            opacity: 1;
            visibility: visible;
        }
        
        .controls {
            text-align: center;
            margin-top: 30px;
        }
        
        .btn {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            background: #c0392b;
            transform: translateY(-2px);
        }
        
        .completion-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }
        
        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            max-width: 500px;
            animation: modalAppear 0.5s ease;
        }
        
        @keyframes modalAppear {
            from { transform: scale(0.5); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        .modal-content h2 {
            font-size: 2rem;
            margin-bottom: 20px;
            color: #27ae60;
        }
        
        .close-modal {
            background: #27ae60;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéì LICENCIATURA EN TURISMO</h1>
            <p>Malla Curricular Interactiva</p>
        </div>
        
        <div class="stats-section">
            <div class="stat-card">
                <h3 id="approved-subjects">0</h3>
                <p>Materias Aprobadas / 57</p>
            </div>
            <div class="stat-card">
                <h3 id="total-credits">0</h3>
                <p>Cr√©ditos Totales</p>
            </div>
            <div class="stat-card">
                <h3 id="malla-credits">0</h3>
                <p>Cr√©ditos Malla</p>
            </div>
            <div class="stat-card">
                <h3 id="module-credits">0</h3>
                <p>Cr√©ditos M√≥dulos</p>
            </div>
        </div>
        
        <!-- UNIDAD PREUNIVERSITARIA -->
        <div class="unit-section">
            <div class="unit-header unit-preuniversitaria">
                üü£ UNIDAD PREUNIVERSITARIA (PRE)
            </div>
            <div class="semesters-container">
                <div class="semester-card">
                    <div class="semester-header pre">PRE - Unidad Preuniversitaria</div>
                    <div class="subject available" data-id="intro-comunicacion" data-credits="0" data-prereq="">
                        <div class="subject-info">
                            <span class="subject-icon">‚úçÔ∏è</span>
                            <span class="subject-name">Introducci√≥n a la Comunicaci√≥n Acad√©mica</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject available" data-id="pensamiento-computacional" data-credits="0" data-prereq="">
                        <div class="subject-info">
                            <span class="subject-icon">üíª</span>
                            <span class="subject-name">Pensamiento Computacional</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject available" data-id="epistemologia-turismo" data-credits="0" data-prereq="">
                        <div class="subject-info">
                            <span class="subject-icon">üß†</span>
                            <span class="subject-name">Epistemolog√≠a del Turismo</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- UNIDAD B√ÅSICA -->
        <div class="unit-section">
            <div class="unit-header unit-basica">
                üîµ UNIDAD B√ÅSICA
            </div>
            <div class="semesters-container">
                <!-- 1er Semestre -->
                <div class="semester-card">
                    <div class="semester-header sem1">1er Semestre</div>
                    <div class="subject blocked" data-id="administracion" data-credits="3.33" data-prereq="intro-comunicacion">
                        <div class="subject-info">
                            <span class="subject-icon">üìã</span>
                            <span class="subject-name">Administraci√≥n</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="tecnologia-aplicada" data-credits="3.33" data-prereq="pensamiento-computacional">
                        <div class="subject-info">
                            <span class="subject-icon">üõ†Ô∏è</span>
                            <span class="subject-name">Tecnolog√≠a Aplicada</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="tecnicas-operacion" data-credits="3.33" data-prereq="epistemologia-turismo">
                        <div class="subject-info">
                            <span class="subject-icon">üß≥</span>
                            <span class="subject-name">T√©cnicas de Operaci√≥n Tur√≠stica</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="teoria-turismo" data-credits="3.33" data-prereq="epistemologia-turismo">
                        <div class="subject-info">
                            <span class="subject-icon">üìö</span>
                            <span class="subject-name">Teor√≠a del Turismo</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="matematica-financiera" data-credits="1.67" data-prereq="pensamiento-computacional">
                        <div class="subject-info">
                            <span class="subject-icon">üí∞</span>
                            <span class="subject-name">Matem√°tica Financiera</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="metodologia-investigacion" data-credits="1.67" data-prereq="intro-comunicacion">
                        <div class="subject-info">
                            <span class="subject-icon">üî¨</span>
                            <span class="subject-name">Metodolog√≠a de la Investigaci√≥n Cient√≠fica</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                </div>
                
                <!-- 2do Semestre -->
                <div class="semester-card">
                    <div class="semester-header sem2">2do Semestre</div>
                    <div class="subject blocked" data-id="hospitalidad" data-credits="3.33" data-prereq="administracion">
                        <div class="subject-info">
                            <span class="subject-icon">ü§ù</span>
                            <span class="subject-name">Hospitalidad</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="bioentorno-turistico" data-credits="3.33" data-prereq="teoria-turismo">
                        <div class="subject-info">
                            <span class="subject-icon">üå±</span>
                            <span class="subject-name">Bioentorno Tur√≠stico</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="cosmos-historico" data-credits="3.33" data-prereq="teoria-turismo">
                        <div class="subject-info">
                            <span class="subject-icon">üè∫</span>
                            <span class="subject-name">Cosmos Hist√≥rico</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="tecnicas-guiar" data-credits="3.33" data-prereq="tecnicas-operacion">
                        <div class="subject-info">
                            <span class="subject-icon">üé§</span>
                            <span class="subject-name">T√©cnicas de Guiar</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="comunicacion-oral" data-credits="1.67" data-prereq="metodologia-investigacion">
                        <div class="subject-info">
                            <span class="subject-icon">üó£Ô∏è</span>
                            <span class="subject-name">Comunicaci√≥n Oral y Escrita</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="estadistica-descriptiva" data-credits="1.67" data-prereq="matematica-financiera,tecnologia-aplicada">
                        <div class="subject-info">
                            <span class="subject-icon">üìä</span>
                            <span class="subject-name">Estad√≠stica Descriptiva Administrativa</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                </div>
                
                <!-- 3er Semestre -->
                <div class="semester-card">
                    <div class="semester-header sem3">3er Semestre</div>
                    <div class="subject blocked" data-id="gastronomia-ancestral" data-credits="3.33" data-prereq="hospitalidad">
                        <div class="subject-info">
                            <span class="subject-icon">üç≤</span>
                            <span class="subject-name">Gastronom√≠a Ancestral y Patrimonio</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="gestion-areas-protegidas" data-credits="3.33" data-prereq="tecnicas-guiar">
                        <div class="subject-info">
                            <span class="subject-icon">üèûÔ∏è</span>
                            <span class="subject-name">Gesti√≥n Operativa de √Åreas Protegidas</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="manifestaciones-plasticas" data-credits="3.33" data-prereq="cosmos-historico,comunicacion-oral">
                        <div class="subject-info">
                            <span class="subject-icon">üé®</span>
                            <span class="subject-name">Manifestaciones Pl√°sticas Tur√≠sticas</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="contabilidad-general" data-credits="3.33" data-prereq="estadistica-descriptiva">
                        <div class="subject-info">
                            <span class="subject-icon">üìí</span>
                            <span class="subject-name">Contabilidad General</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="comunidad-turismo" data-credits="1.67" data-prereq="hospitalidad">
                        <div class="subject-info">
                            <span class="subject-icon">üèòÔ∏è</span>
                            <span class="subject-name">Comunidad y Turismo</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="prospeccion-intercultural" data-credits="1.67" data-prereq="cosmos-historico">
                        <div class="subject-info">
                            <span class="subject-icon">üåé</span>
                            <span class="subject-name">Prospecci√≥n Intercultural Ecuatoriana</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- UNIDAD PROFESIONAL -->
        <div class="unit-section">
            <div class="unit-header unit-profesional">
                üü† UNIDAD PROFESIONAL
            </div>
            <div class="semesters-container">
                <!-- 4to Semestre -->
                <div class="semester-card">
                    <div class="semester-header sem4">4to Semestre</div>
                    <div class="subject blocked" data-id="finanzas-corto-plazo" data-credits="3.33" data-prereq="contabilidad-general">
                        <div class="subject-info">
                            <span class="subject-icon">üìà</span>
                            <span class="subject-name">Finanzas de Corto Plazo</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="gestion-territorial" data-credits="3.33" data-prereq="gestion-areas-protegidas,manifestaciones-plasticas">
                        <div class="subject-info">
                            <span class="subject-icon">üåç</span>
                            <span class="subject-name">Gesti√≥n Territorial en Turismo</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="codificacion-turistica" data-credits="3.33" data-prereq="gestion-areas-protegidas">
                        <div class="subject-info">
                            <span class="subject-icon">üß©</span>
                            <span class="subject-name">Codificaci√≥n Tur√≠stica</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="gestion-talento-humano" data-credits="2.5" data-prereq="contabilidad-general">
                        <div class="subject-info">
                            <span class="subject-icon">üë•</span>
                            <span class="subject-name">Gesti√≥n del Talento Humano por Competencias</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="campismo-recreacion" data-credits="1.67" data-prereq="gastronomia-ancestral,comunidad-turismo">
                        <div class="subject-info">
                            <span class="subject-icon">‚õ∫</span>
                            <span class="subject-name">Campismo y Recreaci√≥n Tur√≠stica</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="folklore" data-credits="1.67" data-prereq="manifestaciones-plasticas,prospeccion-intercultural">
                        <div class="subject-info">
                            <span class="subject-icon">üé≠</span>
                            <span class="subject-name">Folklore</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                </div>
                
                <!-- 5to Semestre -->
                <div class="semester-card">
                    <div class="semester-header sem5">5to Semestre</div>
                    <div class="subject blocked" data-id="desarrollo-turismo-sostenible" data-credits="5" data-prereq="all-previous">
                        <div class="subject-info">
                            <span class="subject-icon">‚ôªÔ∏è</span>
                            <span class="subject-name">Desarrollo del Turismo Sostenible</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="fomento-regulaciones" data-credits="3.33" data-prereq="gestion-talento-humano">
                        <div class="subject-info">
                            <span class="subject-icon">‚öñÔ∏è</span>
                            <span class="subject-name">Fomento y Regulaciones Tur√≠sticas</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="microeconomia" data-credits="3.33" data-prereq="finanzas-corto-plazo">
                        <div class="subject-info">
                            <span class="subject-icon">üè¶</span>
                            <span class="subject-name">Microeconom√≠a</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="operacion-tours" data-credits="3.33" data-prereq="codificacion-turistica,gestion-territorial">
                        <div class="subject-info">
                            <span class="subject-icon">üöç</span>
                            <span class="subject-name">Operaci√≥n de Tours</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="iconografia-turistica" data-credits="1.67" data-prereq="campismo-recreacion">
                        <div class="subject-info">
                            <span class="subject-icon">üñºÔ∏è</span>
                            <span class="subject-name">Iconograf√≠a Tur√≠stica</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="arqueologia" data-credits="1.67" data-prereq="folklore">
                        <div class="subject-info">
                            <span class="subject-icon">üóø</span>
                            <span class="subject-name">Arqueolog√≠a</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                </div>
                
                <!-- 6to Semestre -->
                <div class="semester-card">
                    <div class="semester-header sem6">6to Semestre</div>
                    <div class="subject blocked" data-id="planificacion-turistica" data-credits="5" data-prereq="all-5th">
                        <div class="subject-info">
                            <span class="subject-icon">üóìÔ∏è</span>
                            <span class="subject-name">Planificaci√≥n Tur√≠stica</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="gestion-innovacion" data-credits="3.33" data-prereq="fomento-regulaciones">
                        <div class="subject-info">
                            <span class="subject-icon">üöÄ</span>
                            <span class="subject-name">Gesti√≥n de la Innovaci√≥n y Emprendimiento</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="animacion-turistica" data-credits="3.33" data-prereq="iconografia-turistica">
                        <div class="subject-info">
                            <span class="subject-icon">üé¨</span>
                            <span class="subject-name">Animaci√≥n Tur√≠stica</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="macroeconomia" data-credits="3.33" data-prereq="microeconomia">
                        <div class="subject-info">
                            <span class="subject-icon">üåê</span>
                            <span class="subject-name">Macroeconom√≠a</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="rice-eventos" data-credits="1.67" data-prereq="desarrollo-turismo-sostenible">
                        <div class="subject-info">
                            <span class="subject-icon">üìÖ</span>
                            <span class="subject-name">Rice ‚Äì Organizaci√≥n de Eventos</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="sistemas-registros" data-credits="1.67" data-prereq="operacion-tours">
                        <div class="subject-info">
                            <span class="subject-icon">üßæ</span>
                            <span class="subject-name">Sistemas de Registros Tur√≠sticos / Sabre y Amadeus</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                </div>
                
                <!-- 7mo Semestre -->
                <div class="semester-card">
                    <div class="semester-header sem7">7mo Semestre</div>
                    <div class="subject blocked" data-id="patrimonio" data-credits="5" data-prereq="all-6th">
                        <div class="subject-info">
                            <span class="subject-icon">üèõÔ∏è</span>
                            <span class="subject-name">Patrimonio</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="gestion-calidad" data-credits="3.33" data-prereq="gestion-innovacion">
                        <div class="subject-info">
                            <span class="subject-icon">‚úÖ</span>
                            <span class="subject-name">Gesti√≥n de Calidad y la Productividad</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="operacion-hotelera" data-credits="3.33" data-prereq="sistemas-registros">
                        <div class="subject-info">
                            <span class="subject-icon">üè®</span>
                            <span class="subject-name">Operaci√≥n Hotelera</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="sociologia-turismo" data-credits="3.33" data-prereq="animacion-turistica">
                        <div class="subject-info">
                            <span class="subject-icon">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</span>
                            <span class="subject-name">Sociolog√≠a del Turismo</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="operacion-alimentos" data-credits="1.67" data-prereq="animacion-turistica">
                        <div class="subject-info">
                            <span class="subject-icon">üçΩÔ∏è</span>
                            <span class="subject-name">Operaci√≥n de Alimentos y Bebidas</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="tendencias-turisticas" data-credits="1.67" data-prereq="macroeconomia">
                        <div class="subject-info">
                            <span class="subject-icon">üìà</span>
                            <span class="subject-name">Tendencias Tur√≠sticas</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- UNIDAD DE TITULACI√ìN -->
        <div class="unit-section">
            <div class="unit-header unit-titulacion">
                üî¥ UNIDAD DE TITULACI√ìN
            </div>
            <div class="semesters-container">
                <!-- 8vo Semestre -->
                <div class="semester-card">
                    <div class="semester-header sem8">8vo Semestre</div>
                    <div class="subject blocked" data-id="turismo-gobernanza" data-credits="3.33" data-prereq="operacion-alimentos,sociologia-turismo">
                        <div class="subject-info">
                            <span class="subject-icon">üèõÔ∏è</span>
                            <span class="subject-name">Turismo y Gobernanza</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="integracion-regional" data-credits="5" data-prereq="all-7th">
                        <div class="subject-info">
                            <span class="subject-icon">ü§ù</span>
                            <span class="subject-name">Integraci√≥n Regional Tur√≠stica</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="formulacion-proyectos" data-credits="3.33" data-prereq="gestion-calidad">
                        <div class="subject-info">
                            <span class="subject-icon">üìê</span>
                            <span class="subject-name">Formulaci√≥n y Evaluaci√≥n de Proyectos</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="estrategias-comerciales" data-credits="3.33" data-prereq="tendencias-turisticas">
                        <div class="subject-info">
                            <span class="subject-icon">üéØ</span>
                            <span class="subject-name">Estrategias Comerciales Tur√≠sticas</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="apreciacion-arte" data-credits="1.67" data-prereq="patrimonio">
                        <div class="subject-info">
                            <span class="subject-icon">üñåÔ∏è</span>
                            <span class="subject-name">Apreciaci√≥n del Arte y la Cultura</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="redaccion-titulacion" data-credits="1.67" data-prereq="all-7th">
                        <div class="subject-info">
                            <span class="subject-icon">üìñ</span>
                            <span class="subject-name">Redacci√≥n del Trabajo de Titulaci√≥n</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                </div>
                
                <!-- 9no Semestre -->
                <div class="semester-card">
                    <div class="semester-header sem9">9no Semestre</div>
                    <div class="subject blocked" data-id="gestion-integral-destinos" data-credits="5" data-prereq="all-8th">
                        <div class="subject-info">
                            <span class="subject-icon">üåü</span>
                            <span class="subject-name">Gesti√≥n Integral de Destinos Tur√≠sticos</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="contratacion-publica" data-credits="3.33" data-prereq="formulacion-proyectos">
                        <div class="subject-info">
                            <span class="subject-icon">üìù</span>
                            <span class="subject-name">Contrataci√≥n P√∫blica</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="tecnicas-negociacion" data-credits="3.33" data-prereq="estrategias-comerciales">
                        <div class="subject-info">
                            <span class="subject-icon">ü§ùüó£Ô∏è</span>
                            <span class="subject-name">T√©cnicas de Negociaci√≥n y Comunicaci√≥n para el Turismo</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="trabajo-titulacion" data-credits="3.33" data-prereq="redaccion-titulacion">
                        <div class="subject-info">
                            <span class="subject-icon">üéì</span>
                            <span class="subject-name">Trabajo de Titulaci√≥n</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="liderazgo" data-credits="1.67" data-prereq="apreciacion-arte">
                        <div class="subject-info">
                            <span class="subject-icon">üëë</span>
                            <span class="subject-name">Liderazgo</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="realidad-nacional" data-credits="1.67" data-prereq="turismo-gobernanza">
                        <div class="subject-info">
                            <span class="subject-icon">üåè</span>
                            <span class="subject-name">Realidad Nacional y Geopol√≠tica</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- M√ìDULOS -->
        <div class="unit-section modules-section">
            <div class="unit-header unit-preuniversitaria">
                üìò M√ìDULOS COMPLEMENTARIOS
            </div>
            <div class="modules-container">
                <!-- M√≥dulo Ingl√©s -->
                <div class="module-card">
                    <div class="module-header ingles-header">üåê INGL√âS</div>
                    <div class="subject available" data-id="ingles-a1-neg" data-credits="2.08" data-prereq="" data-module="true">
                        <div class="subject-info">
                            <span class="subject-icon">üî¥üèÜ</span>
                            <span class="subject-name">-A1</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="ingles-a1" data-credits="2.08" data-prereq="ingles-a1-neg" data-module="true">
                        <div class="subject-info">
                            <span class="subject-icon">üü†üèÜ</span>
                            <span class="subject-name">A1</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="ingles-a2" data-credits="2.08" data-prereq="ingles-a1" data-module="true">
                        <div class="subject-info">
                            <span class="subject-icon">üü°üèÜ</span>
                            <span class="subject-name">A2</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="ingles-b1" data-credits="2.08" data-prereq="ingles-a2" data-module="true">
                        <div class="subject-info">
                            <span class="subject-icon">üü¢üèÜ</span>
                            <span class="subject-name">B1</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="ingles-b2" data-credits="2.08" data-prereq="ingles-b1" data-module="true">
                        <div class="subject-info">
                            <span class="subject-icon">üîµüèÜ</span>
                            <span class="subject-name">B2</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="ingles-c1" data-credits="2.08" data-prereq="ingles-b2" data-module="true">
                        <div class="subject-info">
                            <span class="subject-icon">üü£üèÜ</span>
                            <span class="subject-name">C1</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="ingles-c2" data-credits="2.08" data-prereq="ingles-c1" data-module="true">
                        <div class="subject-info">
                            <span class="subject-icon">üü§üèÜ</span>
                            <span class="subject-name">C2</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                </div>
                
                <!-- M√≥dulo Computaci√≥n -->
                <div class="module-card">
                    <div class="module-header computacion-header">üíª COMPUTACI√ìN</div>
                    <div class="subject available" data-id="windows-word-internet" data-credits="8" data-prereq="" data-module="true">
                        <div class="subject-info">
                            <span class="subject-icon">ü™üüìÑüåê</span>
                            <span class="subject-name">Windows ‚Äì Word ‚Äì Internet</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                    <div class="subject blocked" data-id="excel-powerpoint" data-credits="8" data-prereq="windows-word-internet" data-module="true">
                        <div class="subject-info">
                            <span class="subject-icon">üìäüìΩÔ∏è</span>
                            <span class="subject-name">Excel ‚Äì PowerPoint</span>
                        </div>
                        <div class="subject-credits"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="controls">
            <button class="btn" onclick="clearProgress()">üóëÔ∏è Borrar Progreso</button>
        </div>
        
        <div id="completion-modal" class="completion-modal">
            <div class="modal-content">
                <h2>üéìüéä ¬°Felicidades has completado tu Carrera! üéäüéì</h2>
                <p>Has aprobado todas las materias y m√≥dulos de la Licenciatura en Turismo</p>
                <button class="close-modal" onclick="closeModal()">Cerrar</button>
            </div>
        </div>
    </div>
    
    <script>
        // Datos de prerrequisitos y configuraci√≥n
        const subjectData = {
            // Nombres de materias para mostrar en tooltips
            'intro-comunicacion': 'Introducci√≥n a la Comunicaci√≥n Acad√©mica',
            'pensamiento-computacional': 'Pensamiento Computacional',
            'epistemologia-turismo': 'Epistemolog√≠a del Turismo',
            'administracion': 'Administraci√≥n',
            'tecnologia-aplicada': 'Tecnolog√≠a Aplicada',
            'tecnicas-operacion': 'T√©cnicas de Operaci√≥n Tur√≠stica',
            'teoria-turismo': 'Teor√≠a del Turismo',
            'matematica-financiera': 'Matem√°tica Financiera',
            'metodologia-investigacion': 'Metodolog√≠a de la Investigaci√≥n Cient√≠fica',
            'hospitalidad': 'Hospitalidad',
            'bioentorno-turistico': 'Bioentorno Tur√≠stico',
            'cosmos-historico': 'Cosmos Hist√≥rico',
            'tecnicas-guiar': 'T√©cnicas de Guiar',
            'comunicacion-oral': 'Comunicaci√≥n Oral y Escrita',
            'estadistica-descriptiva': 'Estad√≠stica Descriptiva Administrativa',
            'gastronomia-ancestral': 'Gastronom√≠a Ancestral y Patrimonio',
            'gestion-areas-protegidas': 'Gesti√≥n Operativa de √Åreas Protegidas',
            'manifestaciones-plasticas': 'Manifestaciones Pl√°sticas Tur√≠sticas',
            'contabilidad-general': 'Contabilidad General',
            'comunidad-turismo': 'Comunidad y Turismo',
            'prospeccion-intercultural': 'Prospecci√≥n Intercultural Ecuatoriana',
            'finanzas-corto-plazo': 'Finanzas de Corto Plazo',
            'gestion-territorial': 'Gesti√≥n Territorial en Turismo',
            'codificacion-turistica': 'Codificaci√≥n Tur√≠stica',
            'gestion-talento-humano': 'Gesti√≥n del Talento Humano por Competencias',
            'campismo-recreacion': 'Campismo y Recreaci√≥n Tur√≠stica',
            'folklore': 'Folklore',
            'desarrollo-turismo-sostenible': 'Desarrollo del Turismo Sostenible',
            'fomento-regulaciones': 'Fomento y Regulaciones Tur√≠sticas',
            'microeconomia': 'Microeconom√≠a',
            'operacion-tours': 'Operaci√≥n de Tours',
            'iconografia-turistica': 'Iconograf√≠a Tur√≠stica',
            'arqueologia': 'Arqueolog√≠a',
            'planificacion-turistica': 'Planificaci√≥n Tur√≠stica',
            'gestion-innovacion': 'Gesti√≥n de la Innovaci√≥n y Emprendimiento',
            'animacion-turistica': 'Animaci√≥n Tur√≠stica',
            'macroeconomia': 'Macroeconom√≠a',
            'rice-eventos': 'Rice ‚Äì Organizaci√≥n de Eventos',
            'sistemas-registros': 'Sistemas de Registros Tur√≠sticos / Sabre y Amadeus',
            'patrimonio': 'Patrimonio',
            'gestion-calidad': 'Gesti√≥n de Calidad y la Productividad',
            'operacion-hotelera': 'Operaci√≥n Hotelera',
            'sociologia-turismo': 'Sociolog√≠a del Turismo',
            'operacion-alimentos': 'Operaci√≥n de Alimentos y Bebidas',
            'tendencias-turisticas': 'Tendencias Tur√≠sticas',
            'turismo-gobernanza': 'Turismo y Gobernanza',
            'integracion-regional': 'Integraci√≥n Regional Tur√≠stica',
            'formulacion-proyectos': 'Formulaci√≥n y Evaluaci√≥n de Proyectos',
            'estrategias-comerciales': 'Estrategias Comerciales Tur√≠sticas',
            'apreciacion-arte': 'Apreciaci√≥n del Arte y la Cultura',
            'redaccion-titulacion': 'Redacci√≥n del Trabajo de Titulaci√≥n',
            'gestion-integral-destinos': 'Gesti√≥n Integral de Destinos Tur√≠sticos',
            'contratacion-publica': 'Contrataci√≥n P√∫blica',
            'tecnicas-negociacion': 'T√©cnicas de Negociaci√≥n y Comunicaci√≥n para el Turismo',
            'trabajo-titulacion': 'Trabajo de Titulaci√≥n',
            'liderazgo': 'Liderazgo',
            'realidad-nacional': 'Realidad Nacional y Geopol√≠tica',
            'ingles-a1-neg': '-A1',
            'ingles-a1': 'A1',
            'ingles-a2': 'A2',
            'ingles-b1': 'B1',
            'ingles-b2': 'B2',
            'ingles-c1': 'C1',
            'ingles-c2': 'C2',
            'windows-word-internet': 'Windows ‚Äì Word ‚Äì Internet',
            'excel-powerpoint': 'Excel ‚Äì PowerPoint'
        };
        
        // Lista de materias del 1er semestre para validar prerrequisito especial
        const firstSemesterSubjects = [
            'administracion', 'tecnologia-aplicada', 'tecnicas-operacion', 
            'teoria-turismo', 'matematica-financiera', 'metodologia-investigacion'
        ];
        
        // Lista de materias del 5to semestre
        const fifthSemesterSubjects = [
            'desarrollo-turismo-sostenible', 'fomento-regulaciones', 'microeconomia',
            'operacion-tours', 'iconografia-turistica', 'arqueologia'
        ];
        
        // Lista de materias del 6to semestre
        const sixthSemesterSubjects = [
            'planificacion-turistica', 'gestion-innovacion', 'animacion-turistica',
            'macroeconomia', 'rice-eventos', 'sistemas-registros'
        ];
        
        // Lista de materias del 7mo semestre
        const seventhSemesterSubjects = [
            'patrimonio', 'gestion-calidad', 'operacion-hotelera',
            'sociologia-turismo', 'operacion-alimentos', 'tendencias-turisticas'
        ];
        
        // Lista de materias del 8vo semestre
        const eighthSemesterSubjects = [
            'turismo-gobernanza', 'integracion-regional', 'formulacion-proyectos',
            'estrategias-comerciales', 'apreciacion-arte', 'redaccion-titulacion'
        ];

        let approvedSubjects = JSON.parse(localStorage.getItem('approvedSubjects')) || [];
        
        function isSubjectApproved(subjectId) {
            return approvedSubjects.includes(subjectId);
        }
        
        function getPrerequisites(subjectId, prereqStr) {
            if (!prereqStr) return [];
            
            if (prereqStr === 'all-previous') {
                // Todas las materias anteriores del 1er semestre
                return firstSemesterSubjects;
            } else if (prereqStr === 'all-5th') {
                // Todas las materias hasta el 5to semestre
                return fifthSemesterSubjects;
            } else if (prereqStr === 'all-6th') {
                // Todas las materias hasta el 6to semestre
                return sixthSemesterSubjects;
            } else if (prereqStr === 'all-7th') {
                // Todas las materias hasta el 7mo semestre
                return seventhSemesterSubjects;
            } else if (prereqStr === 'all-8th') {
                // Todas las materias hasta el 8vo semestre
                return eighthSemesterSubjects;
            }
            
            return prereqStr.split(',');
        }
        
        function canApproveSubject(subjectId, prereqStr) {
            const prerequisites = getPrerequisites(subjectId, prereqStr);
            return prerequisites.every(prereq => isSubjectApproved(prereq.trim()));
        }
        
        function updateSubjectStatus() {
            const subjects = document.querySelectorAll('.subject');
            
            subjects.forEach(subject => {
                const subjectId = subject.dataset.id;
                const prereqStr = subject.dataset.prereq;
                const credits = parseFloat(subject.dataset.credits);
                const isModule = subject.dataset.module === 'true';
                
                if (isSubjectApproved(subjectId)) {
                    subject.className = 'subject approved';
                    subject.querySelector('.subject-credits').textContent = credits > 0 ? `${credits}` : '';
                } else if (canApproveSubject(subjectId, prereqStr)) {
                    subject.className = 'subject available';
                    subject.querySelector('.subject-credits').textContent = '';
                } else {
                    subject.className = 'subject blocked';
                    subject.querySelector('.subject-credits').textContent = '';
                }
            });
            
            updateStats();
            checkCompletion();
        }
        
        function updateStats() {
            const totalSubjects = document.querySelectorAll('.subject:not([data-module="true"])').length;
            const approvedCount = approvedSubjects.filter(id => {
                const element = document.querySelector(`[data-id="${id}"]`);
                return element && element.dataset.module !== 'true';
            }).length;
            
            let mallaCredits = 0;
            let moduleCredits = 0;
            
            approvedSubjects.forEach(subjectId => {
                const element = document.querySelector(`[data-id="${subjectId}"]`);
                if (element) {
                    const credits = parseFloat(element.dataset.credits) || 0;
                    if (element.dataset.module === 'true') {
                        moduleCredits += credits;
                    } else {
                        mallaCredits += credits;
                    }
                }
            });
            
            const totalCredits = mallaCredits + moduleCredits;
            
            document.getElementById('approved-subjects').textContent = approvedCount;
            document.getElementById('total-credits').textContent = totalCredits.toFixed(2);
            document.getElementById('malla-credits').textContent = mallaCredits.toFixed(2);
            document.getElementById('module-credits').textContent = moduleCredits.toFixed(2);
        }
        
        function toggleSubject(subjectId, prereqStr) {
            if (isSubjectApproved(subjectId)) {
                // Desaprobar materia
                approvedSubjects = approvedSubjects.filter(id => id !== subjectId);
                
                // Desaprobar materias dependientes
                const subjects = document.querySelectorAll('.subject');
                subjects.forEach(subject => {
                    const dependentPrereq = subject.dataset.prereq;
                    const dependentId = subject.dataset.id;
                    
                    if (dependentId !== subjectId && dependentPrereq) {
                        const prerequisites = getPrerequisites(dependentId, dependentPrereq);
                        if (prerequisites.includes(subjectId)) {
                            approvedSubjects = approvedSubjects.filter(id => id !== dependentId);
                        }
                    }
                });
            } else if (canApproveSubject(subjectId, prereqStr)) {
                // Aprobar materia
                approvedSubjects.push(subjectId);
            } else {
                // Mostrar tooltip con prerrequisitos faltantes
                showPrerequisitesTooltip(subjectId, prereqStr);
                return;
            }
            
            localStorage.setItem('approvedSubjects', JSON.stringify(approvedSubjects));
            updateSubjectStatus();
        }
        
        function showPrerequisitesTooltip(subjectId, prereqStr) {
            // Limpiar tooltips existentes de manera segura
            const existingTooltips = document.querySelectorAll('.tooltip');
            const existingOverlays = document.querySelectorAll('.tooltip-overlay');
            
            existingTooltips.forEach(tooltip => {
                try {
                    if (tooltip && tooltip.parentNode) {
                        tooltip.parentNode.removeChild(tooltip);
                    }
                } catch (e) {
                    // Ignorar errores si el elemento ya no existe
                }
            });
            
            existingOverlays.forEach(overlay => {
                try {
                    if (overlay && overlay.parentNode) {
                        overlay.parentNode.removeChild(overlay);
                    }
                } catch (e) {
                    // Ignorar errores si el elemento ya no existe
                }
            });
            
            const prerequisites = getPrerequisites(subjectId, prereqStr);
            const missingPrereqs = prerequisites.filter(prereq => !isSubjectApproved(prereq.trim()));
            
            if (missingPrereqs.length === 0) return;
            
            const subject = document.querySelector(`[data-id="${subjectId}"]`);
            if (!subject) return;
            
            // Crear overlay de fondo
            const overlay = document.createElement('div');
            overlay.className = 'tooltip-overlay';
            overlay.setAttribute('data-tooltip', 'true');
            
            // Crear tooltip modal
            const tooltip = document.createElement('div');
            tooltip.className = 'tooltip';
            tooltip.setAttribute('data-tooltip', 'true');
            
            // Obtener el nombre de la materia actual
            const currentSubjectName = subjectData[subjectId] || subjectId;
            
            let content = `
                <div class="tooltip-title">Materia Bloqueada: ${currentSubjectName}</div>
                <div class="tooltip-content">Para desbloquear esta materia, necesitas aprobar las siguientes:</div>
                <ul class="tooltip-list">
            `;
            
            missingPrereqs.forEach(prereq => {
                const prereqName = subjectData[prereq.trim()] || prereq.trim();
                content += `<li>${prereqName}</li>`;
            });
            
            content += `
                </ul>
                <button class="tooltip-button" onclick="closeTooltip()">Entendido</button>
            `;
            
            tooltip.innerHTML = content;
            
            // Agregar elementos al DOM
            document.body.appendChild(overlay);
            document.body.appendChild(tooltip);
            
            // Cerrar al hacer clic en el overlay
            overlay.addEventListener('click', closeTooltip);
            
            // Remover tooltip despu√©s de 8 segundos de manera segura
            setTimeout(() => {
                closeTooltip();
            }, 8000);
        }
        
        function closeTooltip() {
            const tooltips = document.querySelectorAll('.tooltip[data-tooltip="true"]');
            const overlays = document.querySelectorAll('.tooltip-overlay[data-tooltip="true"]');
            
            tooltips.forEach(tooltip => {
                try {
                    if (tooltip && tooltip.parentNode) {
                        tooltip.parentNode.removeChild(tooltip);
                    }
                } catch (e) {
                    // Ignorar errores
                }
            });
            
            overlays.forEach(overlay => {
                try {
                    if (overlay && overlay.parentNode) {
                        overlay.parentNode.removeChild(overlay);
                    }
                } catch (e) {
                    // Ignorar errores
                }
            });
        }
        
        function checkCompletion() {
            const allSubjects = document.querySelectorAll('.subject');
            const totalSubjects = allSubjects.length;
            
            if (approvedSubjects.length === totalSubjects) {
                document.getElementById('completion-modal').style.display = 'flex';
            }
        }
        
        function closeModal() {
            document.getElementById('completion-modal').style.display = 'none';
        }
        
        function clearProgress() {
            if (confirm('¬øEst√°s seguro de que quieres borrar todo el progreso?')) {
                approvedSubjects = [];
                localStorage.removeItem('approvedSubjects');
                updateSubjectStatus();
            }
        }
        
        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Agregar event listeners a todas las materias
            document.querySelectorAll('.subject').forEach(subject => {
                subject.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const subjectId = this.dataset.id;
                    const prereqStr = this.dataset.prereq;
                    toggleSubject(subjectId, prereqStr);
                });
            });
            
            // Inicializar estado
            updateSubjectStatus();
        });
        
        // Limpiar tooltips al hacer clic en cualquier lugar
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.tooltip') && !e.target.closest('.subject.blocked')) {
                closeTooltip();
            }
        });
        
        // Cerrar tooltip con tecla Escape
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeTooltip();
            }
        });
    </script>
</body>
</html>
